<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>piano</title>
    
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    </head>
<body>
    
    <script>
        var a=0;
        var b=0;
        setup();
			
		function loop() {
				if (cpf) {

					changeColor();
                    changeSpeed();
					
				}
				setTimeout(loop, 1000);
		}
		loop();

    	function changeColor() {
				
                if(a=0){
                    for(i=0;i<=255;i++){
					var Rled = i;
					var Gled = i;
					var Bled = i;

					cpf.request('["grove_setColorRGB",0,RLED,GLED,BLED]');
                }
                a=1;
                }else{
                    for(i=255;i>=0;i--){
					var Rled = i;
					var Gled = i;
					var Bled = i;

					cpf.request('["grove_setColorRGB",0,RLED,GLED,BLED]');
                }
                a=0;
            }
        
        }
        function changeSpeed() {
				if(b=0){
                   for(j=0;j<=120;j++){
                   
                   cpf.request('["analogWrite",6,j]');
					}
                    b=1; 
                }
                
                else{
                    for(j=255;j>=0;j--){
                   
                   cpf.request('["analogWrite",6,j]');
					}
                   b=0; 
                }
            }

        function setup(){
                if(cpf){
                    cpf.setPinMode('["resetPin"],["setPinMode","digital",6,"PWM",["grove_newChainableLED",7,8,1]]');
                }
            }
    </script>
</body>
</html>